# Chat Api Functionality
#### Run all API on `https://localhost:8585/`

1) Create New User :
   ```
   mutation{
     newUser(input:{
       userName:"ABCD",
       firstName:"ab",
       lastName:"cd",
       email:"xyz@pqr.com",
       contact:"0123456789",
       profilePicture:"",
       bio:"ABCDEFGHI"
     }){
       id
       userName
       firstName
       lastName
       email
       contact
       bio
       profilePicture
       createdAt
       updatedAt
     }
   }
   ```
2) Retrieve All Users Details Except Own:
    ```
    query{
      users(name:"ABCD"){
        id
        userName
        firstName
        lastName
        email
        contact
        bio
        profilePicture
        createdAt
        updatedAt
      }
    }
    ```
3) Get Live Update For New User Join:
    ```
     subscription{
       userJoined({
         id
         userName
         firstName
         lastName
         email
         contact
         bio
         profilePicture
         createdAt
         updatedAt 
       }
     }
    ``` 
4) Create New Private ChatRoom:
    ```
      mutation{
        newPrivateChatRoom(input:{
          creatorID:"011345679",
          chatRoomType:PRIVATE,
          receiverID:"98742414"
        }){
          chatRoomID
          creatorID
          creator{
            id
            userName
            firstName
            lastName
            email
            contact
            bio
            profilePicture
            createdAt
            updatedAt
          }
        }
      }
    ```
5) Create New Group ChatRoom:
    ```
      mutation{
        newGroupchatRoom(input:{
          creatorID:"011345679",
        	chatRoomName:"ABCDSFGFF",
          chatRoomType:GROUP,
          receiverID: ["547895","24679541","48451"]
        }){
          chatRoomID
          creatorID
          creator{
            id
            userName
            firstName
            lastName
            email
            contact
            bio
            profilePicture
            createdAt
            updatedAt
          }
        }
      }
    ```
6) Add New Members in Group ChatRoom(return true/false):
    ```
      mutation{
        newChatRoomMembers(input:{
          chatRoomID:"012457",
          memberIDs:["848451","848484"]
        })
      }
    ```
7) Leave ChatRoom(return true/false):
    ```
      mutation{
      	leaveChatRoom(input:{
          chatRoomID:"012456",
          memberID:"0165415"
        })
      }
    ```
    > note: If Leave member is admin of group than it will update admin of it
8) Update ChatRoom Details By Any Member Of ChatRoom:
    ```
      mutation{
        updateChatRoomDetail(input:{
          chatRoomID:"4841",
          chatRoomName:"SFER",
          updateByID:"0144584"
        }){
          chatRoomID
          creatorID
          creator{
            id
            userName
            firstName
            lastName
            email
            contact
            bio
            profilePicture
          }
          chatRoomName
          chatRoomType
          members{
            id
            member{
              id
              userName
              firstName
              lastName
              email
              contact
              bio
              profilePicture
            }
            joinAt
          }
          createdAt
          updateByID
          updateBy{
            id
            userName
            firstName
            lastName
            email
            contact
          }
          updatedAt
        }
      }
    ```
9) Delete ChatRoom From Recently Chat View By Particular Member Not Affect Other Members ChatRoomList(return true/false)
    ```
      mutation{
        deleteChatRoom(input:{
          chatRoomID:"6551",
          memberID:"54151511"
        })
      }
    ```
10) Retrieve All ChatRooms Details In System Only For Admin(currently not set that only admin can view this):
    ```
      query{
        chatRooms{
          chatRoomID
          creatorID
          creator{
            id
            userName
            firstName
            lastName
            email
            contact
            profilePicture
          }
          chatRoomName
          chatRoomType
          members{
            id
            member{
              id
              userName
              firstName
              lastName
              email
              contact
              bio
              profilePicture
            }
            joinAt
          }
          createdAt
          updateByID
          updateBy{
            id
            userName
            firstName
            lastName
            email
            contact
            bio
            profilePicture
          }
          updatedAt
        }
      }
    ```
11) Post Message In ChatRoo:
    ```
      mutation{
        newMessage(input:{
          chatRoomID:"5415415",
          senderID:"2954415",
          message:"fbyerfb",
          messageType:TEXT/IMAGE/VIDEO/GIF/AUDIO,
          messageParentId:"47412",
          messageStatus:SEND,
        }){
          messageId
          chatRoomID
          senderID
          sender{
            id
            userName
            firstName
            lastName
            profilePicture
          }
          message
          messageType
          messageStatus
          messageParentId
          createdAt
        }
      }
    ```
    > note: messageParentId is used for reply message 
12) Update Message Only By Owner Of Message:
    ```
      mutation{
        updateMessage(input:{
          message:"ngutrgnv",
          senderID:"4445151",
          messageID:"854623",
          chatRoomID:"4651"
        }){
          messageId
          chatRoomID
          senderID
          sender{
            id
            userName
            firstName
            lastName
            profilePicture
          }
          message
          messageType
          messageParentId
          createdAt
        }
      }
    ```
13) Update Message Status:
    ```
      mutation{
        updateMessageStatus(input:{
          messageStatus:SEND
        }){
          messageId
          chatRoomID
          senderID
          sender{
            id
            userName
            profilePicture
          }
          message
          messageType
          messageStatus
          messageParentId
          createdAt
        }
      }

    ```
14) Delete Message By Owner Only:
    ```
      mutation{
        deleteMessage(input:{
          chatRoomID:"541451",
          messageID:"65451",
          DeleteByID:"654651"
        }){
          messageId
          chatRoomID
          message
          senderID
        }
      }
    ```
15) Retrieve ChatRoom Conversation:
    ```
      query{
        chatconversationByChatRoomId(chatRoomID:"5451",memberID:"646541"){
          messageId
          chatRoomID
          senderID
          sender{
            id
            userName
            firstName
            lastName
            email
            contact
            profilePicture
          }
          message
          messageType
          messageStatus
          messageParentId
          createdAt
          updatedAt
        }
      }
    ```
16) Retrieve MemberList By ChatRoom:
    ```
      query{
        memberListByChatRoomId(chatRoomID:"54151",memberID:"6541521"){
          memberCount
          members{
            id
            chatRoomID
            member{
              id
              userName
              firstName
              lastName
              email
              contact
              bio
              profilePicture
            }
            joinAt
          }
        }
      }
    ```
17) Retrieve chatRoomList By Member:
    ```
      query{
        chatRoomListByMemberId(memberID:"51521"){
          chatRoomID
          name
          chatRoomType
          createdAt
          totalMember
        }
      }
    ```
18) For MemberLogIn: 
    ```
      query{
        MemberLogIn(name:"dfeudfh"){
          id
          userName
          firstName
          email
          contact
        }
      }
    ```
19) Live Message Post:
    ```
      subscription{
        messagePost(chatRoomID:"5451"){
          messageId
          chatRoomID
          senderID
          sender{
            id
            userName
            firstName
            lastName
            email
            contact
            profilePicture
          }
          message
          messageType
          messageStatus
          messageParentId
          createdAt
        }
      }
    ```
20) Live Message Update:
    ```
      subscription{
        messageUpdate(chatRoomID:"5451"){
          messageId
          chatRoomID
          senderID
          sender{
            id
            userName
            firstName
            lastName
            email
            contact
            profilePicture
          }
          message
          messageType
          messageStatus
          messageParentId
          createdAt
        }
      }
    ```
21) Live Message Delete:
    ```
      subscription{
        messageDelete(chatRoomID:"5451"){
          messageId
          chatRoomID
          senderID
          sender{
            id
            userName
            firstName
            lastName
            email
            contact
            profilePicture
          }
          message
          messageType
          messageStatus
          messageParentId
          createdAt
        }
      }
    ```
22) Live Update Of ChatRoomList By Member:
    ```
      subscription{
        chatRoomListByMember(memberID:"54151"){
          chatRoomID
          name
          chatRoomType
          createdAt
          totalMember
        }
      }
    ```
23) Live Update Of Message Status Update:
    ```
      subscription{
        messageStatusUpdate(messageID:"56655",chatRoomID:"454"){
          messageId
          chatRoomID
          senderID
          sender{
            id
            userName
            firstName
            lastName
            email
            profilePicture
          }
          message
          messageType
          messageStatus
          messageParentId
        }
      }
    ```
24) Fetch Users Which Are Not Member OF ChatRoom
    ```
      query{
        MemberListWhichAreNoTMembersOfChatRoom(chatRoomID:"0113348585",memberID:"9878415154185"){
          id
          userName
          firstName
          lastName
          email
        }
      }
    ```