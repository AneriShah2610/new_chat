# Chat Api Functionality

1) Create New User :
   ```
   mutation{
     newUser(input:{
       userName:"ABCDEFGH",
       firstName:"ABC",
       lastName:"DEF",
       email:"abcdefgh@gmailcom"
       contact:"0123456789",
       bio:"XXXXXX"
     }){
       id
       userName
       firstName
       lastName
       email
       contact
       bio
       profilePicture
       createdAt
     }
   }
   ```
2) Retrieve All Users Details Except Own:
    ```
   query{
     users(name:"XYZ"){
      id
       userName
       firstName
       lastName
       email
       contact
       bio
       profilePicture
       createdAt
     }
   }
    ```
3) Get Live Update For New User Join:
    ```
   subscription{
     userJoined{
       id
       userName
       firstName
       lastName
       email
       contact
       bio
       profilePicture
       createdAt
     }
   }
    ``` 
4) Create New ChatRoom:
    ```
   mutation{
     newChatRoom(input:{
       creatorID:"0123456789",
       chatRoomType:PRIVATE/GROUP
     },receiverID:"98547562145"){
       chatRoomID
       creatorID
       creator{
         id
         userName
         firstName
         lastName
         email
         contact
         bio
       }
       chatRoomName
       chatRoomType
       createdAt
     }
   }
    ```
    For private chat you have to add receiverID but for group chat there is no need of receiver but it is 
    mandatory to write chatroom name otherwise it send null name 
5) Retrieve All ChatRoom:
    ```
    query{
      chatRooms{
        chatRoomID
        creatorID
        creator{
          id
          userName
          firstName
          lastName
          email
          contact
          bio
          profilePicture
          createdAt
        }
        chatRoomName
        chatRoomType
        members{
          id
          chatRoomID
          member{
            id
            userName
            firstName
            lastName
            email
            contact
            bio
            profilePicture
            createdAt
          }
          joinAt
        }
        createdAt
      }
    }
    ```
6) Add Member in Group ChatRoom:
    ```
  mutation{
    newChatRoomMember(input:{
      chatRoomID:"0123456789",
      memberID:"0123456789"
    }){
      id
      chatRoomID
      member{
        id
        userName
        firstName
        lastName
        email
        contact
        bio
        profilePicture
        createdAt
      }
      joinAt
    }
  }
    ```
 7) Retrieve ChatConversation by particular ChatRoom:
    ```
   query{
     chatconversationByChatRoomId(chatRoomID:"0123456789",memberID:"0123456789"){
       messageId
       chatRoomID
       senderID
       sender{
         id
         userName
         firstName
         lastName
       }
       message
       messageType
       messageStatus
       messageParentId
       createdAt
     }
   }
    ```
8) Add Message in ChatRoom:
    ```
   mutation{
     newMessage(input:{
       chatRoomID:"0123456789",
       senderID:"98745462145",
       message:"XYZZZ",
       messageType:TEXT/IMAGE/VIDEO/GIF/AUDIO,
       messageStatus:SEND/UNREAD/READ
     },senderID:"15485451"){
       messageId
       chatRoomID
       senderID
       sender{
         id
         userName
         firstName
         lastName
         email
         contact
       }
        message
        messageType
        messageStatus
        messageParentId
        createdAt
     }
   }
    ```
9) Delete Chat By Particular MemberID:
    ```
    mutation{
      deleteChat(input:{
        chatRoomID:"0123456",
        memberID:"8745210"
      }){
        id
        chatRoomID
        joinAt
      }
    }
    ```
11) Leave ChatRoom From Group: 
    ```
    mutation{
      leaveChatRoom(input:{
        chatRoomID:"012345",
        memberID:"214568"
      },memberID:"214568"){
        id
        chatRoomID
      }
    }
    ```
12) Update ChatRoom Details:
    ```
    mutation{
      updateChatRoomDetail(input:{
        chatRoomID:"0123456789",
        chatRoomName:"XYZXYZ",
        updateByID: "0123456789"
      }){
        chatRoomID
        creator{
          name
          email
          contact
          bio
        }
        updateByID
        updateBy{
          id
          name 
          email
          contact
          bio
        }
      }
    }
    ```
13) View MemberList By ChatRoom:
    ```
    query{
      memberListByChatRoomId(chatRoomID:"012456789",memberID:"4578954120"){
        id
        chatRoomID
        member{
          id
          name
          email
          contact
        }
        joinAt
      }
    }
    ```
14) View ChatRoomList By MemberId:
    ```
    
    ```
15) Update Message(only sender can update message):
    ```
    mutation{
      updateMessage(input:{
        senderID:"012465788",
        messageID:"458451212",
        message:"xyvxxxx"
      }){
        messageId
        chatRoomID
        senderId
        sender{
          name
          email
          contact
        }
        message
        messageType
        messageParentId
        messageStatus
        createdAt
        updatedAt
      }
    }
    ```
16) Delete Message(only sender can delete message):
    ```
    mutation{
      deleteMessage(senderID:"0123456",messageID:"0000000000"){
        messageId
        chatRoomID
        message
      }
    }
    ```
17) Live Message Post:
    ```
    
    ```
18) Live Update Of Message:
    ```
    ```
19) Live Update Of Message:
    ```
    ```
20) Live update of ChatRoom:
    ```
    ```
21) Live Update of ChatRoom Delete:
    ```
    ```