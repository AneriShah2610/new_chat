# Chat Api Functionality

1) Create New User :
   ```
   mutation{
     newUser(input:{
       name:"xyz",
       email:"xyz@gmail.com",
       contact:"0123456789",
       profilePicture:"xyz"
       bio:"xyz"
     }){
       name
       email
       contact
       profilePicture
       bio
       createdAt
     }
   }
   ```
2) Retrieve All Users Details Except Own:
    ```
    query{
      users(name:"xyz"){
        id
        name
        email
        contact
        profilePicture
        bio
        createdAt
      }
    }
    ```
3) Get Live Update For New User Join:
    ```
    subscription{
      userJoined{
        id
        name
        email
        contact
        profilePicture
        bio
        createdAt
      }
    }
    ``` 
4) Create New ChatRoom:
    ```
    mutation{
      newChatRoom(input:{
        creatorID:"84851515",
        chatRoomType:PRIVATE/GROUP
      },receiver:"48485454"){
        creatorID
        chatRoomID
        creator{
          name
          email
          contact
          profilePicture
          bio
          createdAt
        }
        chatRoomName
        chatRoomType
        createdAt
      }
    }
    ```
    For private chat you have to add receiver but for group chat there is no need of receiver but it is 
    mandatory to write  chatroom name otherwise it send null name 
5) Retrieve All ChatRoom:
    ```
    query{
      chatRooms{
        chatRoomID
        creatorID
        creator{
          id
          name
          email
          contact
          bio
          createdAt
        }
        chatRoomName
        chatRoomType
        members{
          id
          chatRoomID
          joinAt
        }
        createdAt
      }
    }
    ```
6) Add Member in Private ChatRoom:
    ```
    mutation{
      newChatRoomMember(input:{
        chatRoomID:"848451",
        memberID:"484515"
      },receiverId:"451515"){
        id
        chatRoomID
        joinAt
      }
    }
    ```
7) Add Member in Group ChatRoom:
    ```
   mutation{
     newChatRoomMember(input:{
       chatRoomID:"0123456789",
       memberID:"9876543210",
     }){
       id
       chatRoomID
       member{
         id
         name
       }
       joinAt
     }
   }
    ```
 8) Retrieve ChatConversation by particular ChatRoom:
    ```
    query{
      chatconversationByChatRoomId(chatRoomID:"0123456789",memberID:"987456310"){
        chatRoomID
        senderId
        sender{
          id
          name
          email
          contact
          profilePicture
          bio
        }
        message
        messageType
        createdAt
        updatedAt
      }
    }
    ```
9) Add Message in ChatRoom:
    ```
    mutation{
      newMessage(input:{
        chatRoomID:"0123456789",
        senderId: "9874563210",
        message:"XXXX",
        messageType:TEXT/IMAGE/VIDEO/GIF,
        messageStatus:SEND
      },senderID:"875456892145"){
        chatRoomID
        senderId
        sender{
          name 
          email
          contact
          profilePicture
        }
        message
        messageType
        messageStatus
        createdAt
      }
    }
    ```
10) Delete Chat by Particular memberId:
    ```
    query{
      chatconversationByChatRoomId(chatRoomID:"0123456789",memberID:"9876543210"){
        chatRoomID
        senderId
        sender{
          name
          email
          contact
        }
        message
        messageType
        messageStatus
        createdAt
      }
    }
    ```
11) Leave ChatRoom From Group: 
    ```
    mutation{
      leaveChatRoom(input:{
        chatRoomID:"012345",
        memberID:"214568"
      },memberID:"214568"){
        id
        chatRoomID
      }
    }
    ```
12) Update ChatRoom Details:
    ```
    mutation{
      updateChatRoomDetail(input:{
        chatRoomID:"0123456789",
        chatRoomName:"XYZXYZ",
        updateByID: "0123456789"
      }){
        chatRoomID
        creator{
          name
          email
          contact
          bio
        }
        updateByID
        updateBy{
          id
          name 
          email
          contact
          bio
        }
      }
    }
    ```
13) View MemberList By ChatRoom:
    ```
    query{
      memberListByChatRoomId(chatRoomID:"012456789",memberID:"4578954120"){
        id
        chatRoomID
        member{
          id
          name
          email
          contact
        }
        joinAt
      }
    }
    ```
14) View ChatRoomList By MemberId:
    ```
    
    ```
15) Update Message(only sender can update message):
    ```
    mutation{
      updateMessage(input:{
        senderID:"012465788",
        messageID:"458451212",
        message:"xyvxxxx"
      }){
        messageId
        chatRoomID
        senderId
        sender{
          name
          email
          contact
        }
        message
        messageType
        messageParentId
        messageStatus
        createdAt
        updatedAt
      }
    }
    ```
16) Delete Message(only sender can delete message):
    ```
    mutation{
      deleteMessage(senderID:"0123456",messageID:"0000000000"){
        messageId
        chatRoomID
        message
      }
    }
    ```
17) Live Message Post:
    ```
    
    ```
18) Live Update Of Message:
    ```
    ```
19) Live Update Of Message:
    ```
    ```
20) Live update of ChatRoom:
    ```
    ```
21) Live Update of ChatRoom Delete:
    ```
    ```